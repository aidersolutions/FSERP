<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>employee &mdash; new  documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="new  documentation" href="../index.html" />
    <link rel="up" title="Module code" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">new  documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for employee</h1><div class="highlight"><pre>
<span class="c">#! /usr/bin/env python</span>

<span class="sd">&quot;&quot;&quot; Employee Module Ui &quot;&quot;&quot;</span>

<span class="n">__authors__</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Jitesh Nair&quot;</span><span class="p">,</span> <span class="s">&quot;Jayarajan J N&quot;</span><span class="p">]</span>
<span class="n">__copyright__</span> <span class="o">=</span> <span class="s">&quot;Copyright 2015, Aider Solutons Pvt. Ltd.&quot;</span>
<span class="n">__credits__</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot; Aider Solutons Pvt. Ltd.&quot;</span><span class="p">]</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="s">&quot;0&quot;</span>
<span class="n">__maintainer__</span> <span class="o">=</span> <span class="s">&quot;Jayarajan J N&quot;</span>
<span class="n">__email__</span> <span class="o">=</span> <span class="s">&quot;jayarajanjn@gmail.com&quot;</span>
<span class="n">__status__</span> <span class="o">=</span> <span class="s">&quot;Developement&quot;</span>

<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">from</span> <span class="nn">dateutil.relativedelta</span> <span class="kn">import</span> <span class="n">relativedelta</span>

<span class="kn">from</span> <span class="nn">PySide.QtGui</span> <span class="kn">import</span> <span class="n">QWidget</span><span class="p">,</span> <span class="n">QHBoxLayout</span><span class="p">,</span> <span class="n">QTabWidget</span><span class="p">,</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">,</span> <span class="n">QSpacerItem</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="p">,</span> \
    <span class="n">QGridLayout</span><span class="p">,</span> <span class="n">QTableWidget</span><span class="p">,</span> <span class="n">QPushButton</span><span class="p">,</span> <span class="n">QAbstractItemView</span><span class="p">,</span> <span class="n">QPrintDialog</span><span class="p">,</span> <span class="n">QDialog</span><span class="p">,</span> <span class="n">QLabel</span><span class="p">,</span> <span class="n">QDateEdit</span><span class="p">,</span> <span class="n">QLineEdit</span><span class="p">,</span> \
    <span class="n">QMessageBox</span><span class="p">,</span> <span class="n">QCheckBox</span><span class="p">,</span> <span class="n">QDoubleValidator</span><span class="p">,</span> <span class="n">QComboBox</span><span class="p">,</span> <span class="n">QVBoxLayout</span><span class="p">,</span> <span class="n">QFont</span><span class="p">,</span> <span class="n">QButtonGroup</span>

<span class="kn">from</span> <span class="nn">PySide.QtCore</span> <span class="kn">import</span> <span class="n">Qt</span><span class="p">,</span> <span class="n">QDate</span><span class="p">,</span> <span class="n">QTime</span>
<span class="kn">from</span> <span class="nn">employee_popupGUI.employee_details_popup</span> <span class="kn">import</span> <span class="n">Ui_Dialog</span>
<span class="kn">from</span> <span class="nn">employee_popupGUI.salary_settings_popup</span> <span class="kn">import</span> <span class="n">Ui_salary_settings</span>
<span class="kn">from</span> <span class="nn">employee_popupGUI.shift_add_popup</span> <span class="kn">import</span> <span class="n">Ui_shift_popup</span>
<span class="kn">from</span> <span class="nn">employee_popupGUI.department_add_popup</span> <span class="kn">import</span> <span class="n">Ui_department_popup</span>
<span class="kn">from</span> <span class="nn">employee_popupGUI.designation_add_popup</span> <span class="kn">import</span> <span class="n">Ui_new_designation</span>
<span class="kn">from</span> <span class="nn">employee_tryton</span> <span class="kn">import</span> <span class="n">EmployeeManagement</span><span class="p">,</span> <span class="n">EmployeeManagementList</span><span class="p">,</span> <span class="n">ShiftList</span><span class="p">,</span> <span class="n">ShiftManagement</span><span class="p">,</span> <span class="n">SalarySettingList</span><span class="p">,</span> \
    <span class="n">SalarySettingManagement</span><span class="p">,</span> <span class="n">AttendenceManagement</span><span class="p">,</span> <span class="n">PayrollManagement</span>
<span class="kn">from</span> <span class="nn">printer.print_execute</span> <span class="kn">import</span> <span class="n">PrintNow</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">settings</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>


<div class="viewcode-block" id="Employee"><a class="viewcode-back" href="../employee.html#employee.Employee">[docs]</a><span class="k">class</span> <span class="nc">Employee</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c">####</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employee_tab_3</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employee_tab_3</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employee_tab_3</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;employee_tab_3&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employee_tab_3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;horizontalLayout&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employee_detail_tabWidget</span> <span class="o">=</span> <span class="n">QTabWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employee_tab_3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employee_detail_tabWidget</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;employee_detail_tabWidget&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_tabs</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employee_detail_tabWidget</span><span class="p">)</span>
        <span class="c">####signals and slots &amp;&amp; other stuffs</span>
        <span class="c"># self.mainwindow = Ui_MainWindow  # just for the ease of finding the attributes in pycharm</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employee_detail_tabWidget</span><span class="o">.</span><span class="n">currentChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">change_focus</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employee_tab_3</span><span class="o">.</span><span class="n">setFocusPolicy</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">StrongFocus</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employee_tab_3</span><span class="o">.</span><span class="n">focusInEvent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">change_focus</span>


<div class="viewcode-block" id="Employee.add_tabs"><a class="viewcode-back" href="../employee.html#employee.Employee.add_tabs">[docs]</a>    <span class="k">def</span> <span class="nf">add_tabs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: add new tab to the widget</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">employee</span> <span class="o">=</span> <span class="n">EmployeeDetail</span><span class="p">()</span>
        <span class="n">attendence</span> <span class="o">=</span> <span class="n">Attendence</span><span class="p">()</span>
        <span class="n">payroll</span> <span class="o">=</span> <span class="n">PayRoll</span><span class="p">()</span>
        <span class="n">shift</span> <span class="o">=</span> <span class="n">Shift</span><span class="p">()</span>
        <span class="n">salarysettings</span> <span class="o">=</span> <span class="n">SalarySettings</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employee_detail_tabWidget</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">employee</span><span class="o">.</span><span class="n">employeedetail_tab_1</span><span class="p">,</span> <span class="s">&#39;Employee&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employee_detail_tabWidget</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">attendence</span><span class="o">.</span><span class="n">attendence_tab_2</span><span class="p">,</span> <span class="s">&#39;Attendence&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employee_detail_tabWidget</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">payroll</span><span class="o">.</span><span class="n">payroll_tab_3</span><span class="p">,</span> <span class="s">&#39;Payroll&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employee_detail_tabWidget</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">shift</span><span class="o">.</span><span class="n">shift_tab_4</span><span class="p">,</span> <span class="s">&#39;Shift&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employee_detail_tabWidget</span><span class="o">.</span><span class="n">addTab</span><span class="p">(</span><span class="n">salarysettings</span><span class="o">.</span><span class="n">salary_tab_5</span><span class="p">,</span> <span class="s">&#39;Salary Setting&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Employee.change_focus"><a class="viewcode-back" href="../employee.html#employee.Employee.change_focus">[docs]</a>    <span class="k">def</span> <span class="nf">change_focus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return:sets focus for the  child widgets</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">wid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">employee_detail_tabWidget</span><span class="o">.</span><span class="n">currentWidget</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">wid</span><span class="o">.</span><span class="n">isVisible</span><span class="p">():</span>
            <span class="n">wid</span><span class="o">.</span><span class="n">setFocus</span><span class="p">()</span>

</div></div>
<div class="viewcode-block" id="NewDepartment"><a class="viewcode-back" href="../employee.html#employee.NewDepartment">[docs]</a><span class="k">class</span> <span class="nc">NewDepartment</span><span class="p">(</span><span class="n">QDialog</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">logger</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">emp_management_obj</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">QDialog</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;Inside NewDepartment&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span> <span class="o">=</span> <span class="n">Ui_department_popup</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">management</span> <span class="o">=</span> <span class="n">emp_management_obj</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">department_add_save_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_department</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">department_add_delete_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delete_department</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">department_add_id_lineedit</span><span class="o">.</span><span class="n">setValidator</span><span class="p">(</span><span class="n">QDoubleValidator</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">department_add_name_lineedit</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_capital</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">department_add_name_lineedit</span><span class="p">))</span>

<div class="viewcode-block" id="NewDepartment.auto_capital"><a class="viewcode-back" href="../employee.html#employee.NewDepartment.auto_capital">[docs]</a>    <span class="k">def</span> <span class="nf">auto_capital</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">linedit</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param linedit: the linedit object to be modified</span>
<span class="sd">        :return: none</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">edit</span> <span class="o">=</span> <span class="n">linedit</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">edit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">edit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">title</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="NewDepartment.save_department"><a class="viewcode-back" href="../employee.html#employee.NewDepartment.save_department">[docs]</a>    <span class="k">def</span> <span class="nf">save_department</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;NewDepartment saving initiated&#39;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">department_add_name_lineedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;dep_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">department_add_id_lineedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">management</span><span class="o">.</span><span class="n">save_department</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">status</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">load_department</span><span class="p">()</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Success!!&#39;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">!!&quot;</span> <span class="o">%</span> <span class="n">status</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Fail!!&#39;</span><span class="p">,</span>
                <span class="s">&quot;</span><span class="si">%s</span><span class="s">, would you like to close?&quot;</span> <span class="o">%</span> <span class="n">status</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">pass</span>
</div>
<div class="viewcode-block" id="NewDepartment.delete_department"><a class="viewcode-back" href="../employee.html#employee.NewDepartment.delete_department">[docs]</a>    <span class="k">def</span> <span class="nf">delete_department</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;NewDepartment deleting initiated&#39;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">department_add_name_lineedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;dep_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">department_add_id_lineedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">management</span><span class="o">.</span><span class="n">delete_department</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">status</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">load_department</span><span class="p">()</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Success!!&#39;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">!!&quot;</span> <span class="o">%</span> <span class="n">status</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Fail!!&#39;</span><span class="p">,</span>
                <span class="s">&quot;</span><span class="si">%s</span><span class="s">, would you like to close?&quot;</span> <span class="o">%</span> <span class="n">status</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">pass</span>

</div></div>
<div class="viewcode-block" id="NewDesignation"><a class="viewcode-back" href="../employee.html#employee.NewDesignation">[docs]</a><span class="k">class</span> <span class="nc">NewDesignation</span><span class="p">(</span><span class="n">QDialog</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">logger</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">emp_management_obj</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;Inside NewDesignation&#39;</span><span class="p">)</span>
        <span class="n">QDialog</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span> <span class="o">=</span> <span class="n">Ui_new_designation</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">management</span> <span class="o">=</span> <span class="n">emp_management_obj</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">designation_add_save_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_designation</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">designation_add_delete_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delete_designation</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">designation_add_code_lineedit</span><span class="o">.</span><span class="n">setValidator</span><span class="p">(</span><span class="n">QDoubleValidator</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">designation_add_name_lineedit</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_capital</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">designation_add_name_lineedit</span><span class="p">))</span>

<div class="viewcode-block" id="NewDesignation.auto_capital"><a class="viewcode-back" href="../employee.html#employee.NewDesignation.auto_capital">[docs]</a>    <span class="k">def</span> <span class="nf">auto_capital</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">linedit</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param linedit: the linedit object to be modified</span>
<span class="sd">        :return: none</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">edit</span> <span class="o">=</span> <span class="n">linedit</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">edit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">edit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">title</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="NewDesignation.save_designation"><a class="viewcode-back" href="../employee.html#employee.NewDesignation.save_designation">[docs]</a>    <span class="k">def</span> <span class="nf">save_designation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;NewDesignation saving initiated&#39;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">designation_add_name_lineedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;des_code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">designation_add_code_lineedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">management</span><span class="o">.</span><span class="n">save_designation</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">status</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">load_designation</span><span class="p">()</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Success!!&#39;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">!!&quot;</span> <span class="o">%</span> <span class="n">status</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Fail!!&#39;</span><span class="p">,</span>
                <span class="s">&quot;</span><span class="si">%s</span><span class="s">, would you like to close?&quot;</span> <span class="o">%</span> <span class="n">status</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">pass</span>
</div>
<div class="viewcode-block" id="NewDesignation.delete_designation"><a class="viewcode-back" href="../employee.html#employee.NewDesignation.delete_designation">[docs]</a>    <span class="k">def</span> <span class="nf">delete_designation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;NewDesignation deleting initiated&#39;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">designation_add_name_lineedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;des_code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">designation_add_code_lineedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">management</span><span class="o">.</span><span class="n">delete_designation</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">status</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">load_designation</span><span class="p">()</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Success!!&#39;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">!!&quot;</span> <span class="o">%</span> <span class="n">status</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Fail!!&#39;</span><span class="p">,</span>
                <span class="s">&quot;</span><span class="si">%s</span><span class="s">, would you like to close?&quot;</span> <span class="o">%</span> <span class="n">status</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">pass</span>

</div></div>
<div class="viewcode-block" id="EmployeeDetailDialog"><a class="viewcode-back" href="../employee.html#employee.EmployeeDetailDialog">[docs]</a><span class="k">class</span> <span class="nc">EmployeeDetailDialog</span><span class="p">(</span><span class="n">QDialog</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">logger</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;Inside EmployeeDetailDialogue&#39;</span><span class="p">)</span>
        <span class="n">QDialog</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span> <span class="o">=</span> <span class="n">Ui_Dialog</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowFlags</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">WindowCloseButtonHint</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeid_lineedit</span><span class="o">.</span><span class="n">setValidator</span><span class="p">(</span><span class="n">QDoubleValidator</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeebasicpay_lineedit</span><span class="o">.</span><span class="n">setValidator</span><span class="p">(</span><span class="n">QDoubleValidator</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">999999</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeename_lineedit</span>
        <span class="n">name</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_capital</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
        <span class="n">father</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeefathername_lineedit</span>
        <span class="n">father</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_capital</span><span class="p">(</span><span class="n">father</span><span class="p">))</span>
        <span class="n">surname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeesurname_lineedit</span>
        <span class="n">surname</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_capital</span><span class="p">(</span><span class="n">surname</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employdesignation_combobox</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s">&quot;QAbstractItemView{&quot;</span>
                                                                              <span class="s">&quot;background: #4B77BE;&quot;</span>
                                                                              <span class="s">&quot;}&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeedepartment_combobox</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s">&quot;QAbstractItemView{&quot;</span>
                                                                               <span class="s">&quot;background: #4B77BE;&quot;</span>
                                                                               <span class="s">&quot;}&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeperiod_combobox</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s">&quot;QAbstractItemView{&quot;</span>
                                                                           <span class="s">&quot;background: #4B77BE;&quot;</span>
                                                                           <span class="s">&quot;}&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeesex_combobox</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s">&quot;QAbstractItemView{&quot;</span>
                                                                        <span class="s">&quot;background: #4B77BE;&quot;</span>
                                                                        <span class="s">&quot;}&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeshift_combobox</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s">&quot;QAbstractItemView{&quot;</span>
                                                                          <span class="s">&quot;background: #4B77BE;&quot;</span>
                                                                          <span class="s">&quot;}&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeaddress_textedit</span><span class="o">.</span><span class="n">setTabChangesFocus</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">code</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">employee_id</span> <span class="o">=</span> <span class="n">code</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">employee_id</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeesave_pushbutton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_or_edit_employee</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeedelete_pushbutton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delete_employee</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">employee_id</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeedelete_pushbutton</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeid_lineedit</span><span class="o">.</span><span class="n">setPlaceholderText</span><span class="p">(</span><span class="s">&#39;Not Assigned&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">management</span> <span class="o">=</span> <span class="n">EmployeeManagement</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">management</span> <span class="o">=</span> <span class="n">EmployeeManagement</span><span class="p">(</span><span class="n">emp_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">employee_id</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_department</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_designation</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_shifts</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_newdepartment_pushbutton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop_new_department</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_newdesignation_pushbutton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop_new_designation</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeedoj_dateedit</span><span class="o">.</span><span class="n">setMaximumDate</span><span class="p">(</span><span class="n">QDate</span><span class="o">.</span><span class="n">currentDate</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeedoj_dateedit</span><span class="o">.</span><span class="n">setDate</span><span class="p">(</span><span class="n">QDate</span><span class="o">.</span><span class="n">currentDate</span><span class="p">())</span>
        <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
        <span class="n">fourteenyearsback</span> <span class="o">=</span> <span class="n">today</span> <span class="o">-</span> <span class="n">relativedelta</span><span class="p">(</span><span class="n">years</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeedob_dateedit</span><span class="o">.</span><span class="n">setMaximumDate</span><span class="p">(</span>
            <span class="n">QDate</span><span class="o">.</span><span class="n">fromString</span><span class="p">(</span><span class="n">fourteenyearsback</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%d</span><span class="s">/%m/%Y&#39;</span><span class="p">),</span> <span class="s">&#39;dd/MM/yyyy&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeedob_dateedit</span><span class="o">.</span><span class="n">setDate</span><span class="p">(</span>
            <span class="n">QDate</span><span class="o">.</span><span class="n">fromString</span><span class="p">(</span><span class="n">fourteenyearsback</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%d</span><span class="s">/%m/%Y&#39;</span><span class="p">),</span> <span class="s">&#39;dd/MM/yyyy&#39;</span><span class="p">))</span>

<div class="viewcode-block" id="EmployeeDetailDialog.auto_capital"><a class="viewcode-back" href="../employee.html#employee.EmployeeDetailDialog.auto_capital">[docs]</a>    <span class="k">def</span> <span class="nf">auto_capital</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">linedit</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param linedit: the linedit object to be modified</span>
<span class="sd">        :return: none</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">edit</span> <span class="o">=</span> <span class="n">linedit</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">edit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">edit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">title</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="EmployeeDetailDialog.pop_new_designation"><a class="viewcode-back" href="../employee.html#employee.EmployeeDetailDialog.pop_new_designation">[docs]</a>    <span class="k">def</span> <span class="nf">pop_new_designation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">designation</span> <span class="o">=</span> <span class="n">NewDesignation</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">emp_management_obj</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">management</span><span class="p">)</span>
        <span class="n">designation</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="EmployeeDetailDialog.pop_new_department"><a class="viewcode-back" href="../employee.html#employee.EmployeeDetailDialog.pop_new_department">[docs]</a>    <span class="k">def</span> <span class="nf">pop_new_department</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">department</span> <span class="o">=</span> <span class="n">NewDepartment</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">emp_management_obj</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">management</span><span class="p">)</span>
        <span class="n">department</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="EmployeeDetailDialog.load_designation"><a class="viewcode-back" href="../employee.html#employee.EmployeeDetailDialog.load_designation">[docs]</a>    <span class="k">def</span> <span class="nf">load_designation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">combo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employdesignation_combobox</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">management</span><span class="o">.</span><span class="n">load_designation</span><span class="p">()</span>
        <span class="n">combo</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">combo</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="EmployeeDetailDialog.load_department"><a class="viewcode-back" href="../employee.html#employee.EmployeeDetailDialog.load_department">[docs]</a>    <span class="k">def</span> <span class="nf">load_department</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">combo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeedepartment_combobox</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">management</span><span class="o">.</span><span class="n">load_department</span><span class="p">()</span>
        <span class="n">combo</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">combo</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="EmployeeDetailDialog.load_shifts"><a class="viewcode-back" href="../employee.html#employee.EmployeeDetailDialog.load_shifts">[docs]</a>    <span class="k">def</span> <span class="nf">load_shifts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">combo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeshift_combobox</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">management</span><span class="o">.</span><span class="n">get_shift_list</span><span class="p">()</span>
        <span class="n">combo</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">combo</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="EmployeeDetailDialog.save_or_edit_employee"><a class="viewcode-back" href="../employee.html#employee.EmployeeDetailDialog.save_or_edit_employee">[docs]</a>    <span class="k">def</span> <span class="nf">save_or_edit_employee</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return:if code give then save edit else save new employee.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;EmployeeDetailDialogue save or edit initiated&#39;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;employee_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeid_lineedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;department&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeedepartment_combobox</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;designation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employdesignation_combobox</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeename_lineedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;surname&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeesurname_lineedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;fathersname&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeefathername_lineedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;gender&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeesex_combobox</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;dob&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeedob_dateedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;doj&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeedoj_dateedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;pan&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeepan_lineedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;adhar&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeadhar_lineedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;salary&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeebasicpay_lineedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;period&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeperiod_combobox</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;shift&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeshift_combobox</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;address&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeaddress_textedit</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;phone&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeecontact_lineedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="s">&#39;phone&#39;</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">ll</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ll</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">10</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&#39;wrong value&#39;</span><span class="p">)</span>
                    <span class="nb">int</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Fail!&#39;</span><span class="p">,</span> <span class="s">&#39;Invalid </span><span class="si">%s</span><span class="s">!!&#39;</span> <span class="o">%</span> <span class="n">i</span><span class="p">,</span>
                                                                       <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                        <span class="k">return</span> <span class="bp">False</span>
            <span class="k">if</span> <span class="n">j</span> <span class="o">==</span> <span class="s">&#39;&#39;</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Fail!&#39;</span><span class="p">,</span> <span class="s">&#39;Invalid </span><span class="si">%s</span><span class="s">!!&#39;</span> <span class="o">%</span> <span class="n">i</span><span class="p">,</span>
                                                                   <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">False</span>
        <span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">management</span><span class="o">.</span><span class="n">save_employee</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Fail!&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">!!&#39;</span> <span class="o">%</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">get_employee_details</span><span class="p">()</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Success!!&#39;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">!!&quot;</span> <span class="o">%</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeedelete_pushbutton</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="EmployeeDetailDialog.delete_employee"><a class="viewcode-back" href="../employee.html#employee.EmployeeDetailDialog.delete_employee">[docs]</a>    <span class="k">def</span> <span class="nf">delete_employee</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: delete the employee</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;EmployeeDetailDialogue delete initiated&#39;</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Warning!!&#39;</span><span class="p">,</span> <span class="s">&#39;This will delete the employee entry&#39;</span><span class="p">,</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">,</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">management</span><span class="o">.</span><span class="n">remove_employee</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">status</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">get_employee_details</span><span class="p">()</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Success!!&#39;</span><span class="p">,</span> <span class="s">&#39;The employee was deleted successfully!!&#39;</span><span class="p">,</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="EmployeeDetailDialog.load_data"><a class="viewcode-back" href="../employee.html#employee.EmployeeDetailDialog.load_data">[docs]</a>    <span class="k">def</span> <span class="nf">load_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">management</span><span class="o">.</span><span class="n">load_employee</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeid_lineedit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;employee_id&#39;</span><span class="p">])</span>
        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeedepartment_combobox</span><span class="o">.</span><span class="n">findText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;department&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeedepartment_combobox</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employdesignation_combobox</span><span class="o">.</span><span class="n">findText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;designation&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employdesignation_combobox</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeename_lineedit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeesurname_lineedit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;surname&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeefathername_lineedit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;fathersname&#39;</span><span class="p">])</span>
        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeesex_combobox</span><span class="o">.</span><span class="n">findText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;gender&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeesex_combobox</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeedob_dateedit</span><span class="o">.</span><span class="n">setDate</span><span class="p">(</span><span class="n">QDate</span><span class="o">.</span><span class="n">fromString</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;dob&#39;</span><span class="p">],</span> <span class="s">&#39;dd-MM-yyyy&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeedoj_dateedit</span><span class="o">.</span><span class="n">setDate</span><span class="p">(</span><span class="n">QDate</span><span class="o">.</span><span class="n">fromString</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;doj&#39;</span><span class="p">],</span> <span class="s">&#39;dd-MM-yyyy&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeepan_lineedit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;pan&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeadhar_lineedit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;adhar&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeebasicpay_lineedit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;salary&#39;</span><span class="p">])</span>
        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeshift_combobox</span><span class="o">.</span><span class="n">findText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;shift&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeshift_combobox</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeperiod_combobox</span><span class="o">.</span><span class="n">findText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;period&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeperiod_combobox</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeeaddress_textedit</span><span class="o">.</span><span class="n">insertPlainText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;address&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">employeedialogue_employeecontact_lineedit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;phone&#39;</span><span class="p">])</span>

</div></div>
<div class="viewcode-block" id="EmployeeDetail"><a class="viewcode-back" href="../employee.html#employee.EmployeeDetail">[docs]</a><span class="k">class</span> <span class="nc">EmployeeDetail</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">logger</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c">######</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;Inside EmployeeDetail&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeedetail_tab_1</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>  <span class="c">#####taken v</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeedetail_tab_1</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;employeedetail_tab_1&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_16</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employeedetail_tab_1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_16</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;gridLayout_16&quot;</span><span class="p">)</span>
        <span class="n">spacerItem16</span> <span class="o">=</span> <span class="n">QSpacerItem</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Minimum</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_16</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">spacerItem16</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_add_button</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employeedetail_tab_1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_add_button</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;employeetab_add_button&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_16</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employeetab_add_button</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span> <span class="o">=</span> <span class="n">QTableWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employeedetail_tab_1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;employeetab_table&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">setColumnCount</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setCascadingSectionResizes</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setStretchLastSection</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">verticalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setStretchLastSection</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_16</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="c">###retranslates</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_add_button</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Add&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Id&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Name&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Age&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Gender&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Department&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Designation&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Shift&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="c">####signals and slots &amp;&amp; other stuffs</span>
        <span class="c"># self.mainwindow = Ui_MainWindow  # just for the ease of finding the attributes in pycharm</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeedetail_tab_1</span><span class="o">.</span><span class="n">setFocusPolicy</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">StrongFocus</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeedetail_tab_1</span><span class="o">.</span><span class="n">focusInEvent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_rows</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_add_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">popup_employee_form</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeemanagmentlist</span> <span class="o">=</span> <span class="n">EmployeeManagementList</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_employee_details</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">setEditTriggers</span><span class="p">(</span><span class="n">QAbstractItemView</span><span class="o">.</span><span class="n">NoEditTriggers</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">itemDoubleClicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">popup_edit</span><span class="p">)</span>


<div class="viewcode-block" id="EmployeeDetail.get_employee_details"><a class="viewcode-back" href="../employee.html#employee.EmployeeDetail.get_employee_details">[docs]</a>    <span class="k">def</span> <span class="nf">get_employee_details</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        populates the table with the employee details</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c"># should query the db for data</span>
        <span class="c"># for each row in the db call the add_new_row(*args) function</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">employeemanagmentlist</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">clearContents</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_new_row</span><span class="p">(</span><span class="o">*</span><span class="n">data</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="EmployeeDetail.add_new_row"><a class="viewcode-back" href="../employee.html#employee.EmployeeDetail.add_new_row">[docs]</a>    <span class="k">def</span> <span class="nf">add_new_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span>
        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>  <span class="c"># we dont have data yet</span>
            <span class="n">table</span><span class="o">.</span><span class="n">clearContents</span><span class="p">()</span>
            <span class="n">table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">j</span><span class="p">[</span><span class="s">&#39;employee_id&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">j</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">date_string</span> <span class="o">=</span> <span class="n">j</span><span class="p">[</span><span class="s">&#39;dob&#39;</span><span class="p">]</span>
                <span class="n">born</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date_string</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%d</span><span class="s">-%m-%Y&#39;</span><span class="p">)</span>
                <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
                <span class="n">age</span> <span class="o">=</span> <span class="n">today</span><span class="o">.</span><span class="n">year</span> <span class="o">-</span> <span class="n">born</span><span class="o">.</span><span class="n">year</span> <span class="o">-</span> <span class="p">((</span><span class="n">today</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">day</span><span class="p">)</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">born</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">born</span><span class="o">.</span><span class="n">day</span><span class="p">))</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">age</span><span class="p">))</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">j</span><span class="p">[</span><span class="s">&#39;gender&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">j</span><span class="p">[</span><span class="s">&#39;department&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">j</span><span class="p">[</span><span class="s">&#39;designation&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">j</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;shift&#39;</span><span class="p">):</span>
                    <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">j</span><span class="p">[</span><span class="s">&#39;shift&#39;</span><span class="p">])</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>

        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">/</span> <span class="mi">7</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">7</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">/</span> <span class="mi">7</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">/</span> <span class="mi">7</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">7</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">7</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setStretchLastSection</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="EmployeeDetail.popup_employee_form"><a class="viewcode-back" href="../employee.html#employee.EmployeeDetail.popup_employee_form">[docs]</a>    <span class="k">def</span> <span class="nf">popup_employee_form</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        who=the employee number of the employee to be viewed</span>
<span class="sd">        if no who parameter provided then an empty form pops up...</span>
<span class="sd">        shows a form to edit the employee details</span>
<span class="sd">        after success adds a new row to te table</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">print</span> <span class="s">&quot;form&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">popup</span> <span class="o">=</span> <span class="n">EmployeeDetailDialog</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">popup</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">popup</span> <span class="o">=</span> <span class="n">EmployeeDetailDialog</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">popup</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="EmployeeDetail.popup_edit"><a class="viewcode-back" href="../employee.html#employee.EmployeeDetail.popup_edit">[docs]</a>    <span class="k">def</span> <span class="nf">popup_edit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Pops up the menu to be edited</span>
<span class="sd">        :param item: item clicked</span>
<span class="sd">        :return:none</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">employeetab_table</span>
        <span class="k">print</span> <span class="s">&quot;item spotted&quot;</span>
        <span class="n">model_index</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">indexFromItem</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">model_index</span><span class="o">.</span><span class="n">row</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">popup_employee_form</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="EmployeeDetail.load_rows"><a class="viewcode-back" href="../employee.html#employee.EmployeeDetail.load_rows">[docs]</a>    <span class="k">def</span> <span class="nf">load_rows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: loads the rows for the table.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_new_row</span><span class="p">()</span>

</div></div>
<div class="viewcode-block" id="Attendence"><a class="viewcode-back" href="../employee.html#employee.Attendence">[docs]</a><span class="k">class</span> <span class="nc">Attendence</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">logger</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c">#####</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;Inside Attendence&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendence_tab_2</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendence_tab_2</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;attendence_tab_2&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_13</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attendence_tab_2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_13</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;gridLayout_13&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verticalLayout_10</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verticalLayout_10</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;verticalLayout_10&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_15</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_15</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;horizontalLayout_15&quot;</span><span class="p">)</span>
        <span class="n">spacerItem17</span> <span class="o">=</span> <span class="n">QSpacerItem</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Minimum</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_15</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">spacerItem17</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_dateedit</span> <span class="o">=</span> <span class="n">QDateEdit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attendence_tab_2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_dateedit</span><span class="o">.</span><span class="n">setInputMethodHints</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">ImhPreferNumbers</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_dateedit</span><span class="o">.</span><span class="n">setCalendarPopup</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_dateedit</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;attendencetab_dateedit&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_15</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_dateedit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_search_button</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attendence_tab_2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_search_button</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;attendencetab_search_button&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_15</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_search_button</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verticalLayout_10</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_15</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span> <span class="o">=</span> <span class="n">QTableWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attendence_tab_2</span><span class="p">)</span>
        <span class="n">font</span> <span class="o">=</span> <span class="n">QFont</span><span class="p">()</span>
        <span class="n">font</span><span class="o">.</span><span class="n">setPointSize</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;attendencetab_table&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">setColumnCount</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setCascadingSectionResizes</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setDefaultSectionSize</span><span class="p">(</span><span class="mi">120</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setStretchLastSection</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">verticalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setStretchLastSection</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verticalLayout_10</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_16</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_16</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;horizontalLayout_16&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_createnew_button</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attendence_tab_2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_createnew_button</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;attendencetab_createnew_button&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_16</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_createnew_button</span><span class="p">)</span>
        <span class="n">spacerItem18</span> <span class="o">=</span> <span class="n">QSpacerItem</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Minimum</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_16</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">spacerItem18</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_save_button</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attendence_tab_2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_save_button</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;attendencetab_save_button&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_16</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_save_button</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verticalLayout_10</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_16</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_13</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">verticalLayout_10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="c">### retranslate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_createnew_button</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Create Attendence&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_dateedit</span><span class="o">.</span><span class="n">setDisplayFormat</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;dd-MM-yyyy&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_search_button</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Search&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Attendence&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Employee&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Holiday&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Leave&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>  <span class="c"># leave_applied</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Remark&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>  <span class="c"># leave_reason</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Type&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>  <span class="c"># leave_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_save_button</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Save&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="c">### signals and slots &amp;&amp; other stuffs</span>
        <span class="c"># self.mainwindow = Ui_MainWindow  # just for the ease of finding the attributes in pycharm</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_save_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_the_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_search_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">load_the_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_createnew_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">create_attendence</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">sectionClicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">select_all_rows</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span><span class="o">.</span><span class="n">setEditTriggers</span><span class="p">(</span><span class="n">QAbstractItemView</span><span class="o">.</span><span class="n">NoEditTriggers</span><span class="p">)</span>
        <span class="n">daysbefore</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">date3daysbefore</span> <span class="o">=</span> <span class="n">daysbefore</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%d</span><span class="s">-%m-%Y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_dateedit</span><span class="o">.</span><span class="n">setDate</span><span class="p">(</span><span class="n">QDate</span><span class="o">.</span><span class="n">fromString</span><span class="p">(</span><span class="n">date3daysbefore</span><span class="p">,</span> <span class="s">&#39;dd-MM-yyyy&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_dateedit</span><span class="o">.</span><span class="n">setMaximumDate</span><span class="p">(</span><span class="n">QDate</span><span class="o">.</span><span class="n">currentDate</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendence</span> <span class="o">=</span> <span class="n">AttendenceManagement</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendence_tab_2</span><span class="o">.</span><span class="n">setFocusPolicy</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">StrongFocus</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attendence_tab_2</span><span class="o">.</span><span class="n">focusInEvent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_rows</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">leave_types</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;none&#39;</span><span class="p">:</span> <span class="s">&#39;None&#39;</span><span class="p">,</span>
                            <span class="s">&#39;cl&#39;</span><span class="p">:</span> <span class="s">&#39;Casual Leave&#39;</span><span class="p">,</span>
                            <span class="s">&#39;lop&#39;</span><span class="p">:</span> <span class="s">&#39;Loss of Pay&#39;</span><span class="p">,</span>
                            <span class="s">&#39;compoff&#39;</span><span class="p">:</span> <span class="s">&#39;Compansatory Off&#39;</span><span class="p">}</span>

<div class="viewcode-block" id="Attendence.select_all_rows"><a class="viewcode-back" href="../employee.html#employee.Attendence.select_all_rows">[docs]</a>    <span class="k">def</span> <span class="nf">select_all_rows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        selects all rows in the 0th column</span>
<span class="sd">        :param item: column number</span>
<span class="sd">        :return:none</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span>
        <span class="k">if</span> <span class="n">item</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>
                <span class="n">chekbox</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">cellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">chekbox</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                    <span class="n">chekbox</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">chekbox</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Unchecked</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Attendence.load_the_data"><a class="viewcode-back" href="../employee.html#employee.Attendence.load_the_data">[docs]</a>    <span class="k">def</span> <span class="nf">load_the_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param date: the qdate value passed when a date is changed</span>
<span class="sd">        :return:the attendence of employees on that date</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attendence</span><span class="o">.</span><span class="n">load_attendence</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_dateedit</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_rows</span><span class="p">(</span><span class="o">*</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">clearContents</span><span class="p">()</span>
            <span class="n">table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Error!!&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
</div>
<div class="viewcode-block" id="Attendence.create_attendence"><a class="viewcode-back" href="../employee.html#employee.Attendence.create_attendence">[docs]</a>    <span class="k">def</span> <span class="nf">create_attendence</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;Attendence create attendence initiated&#39;</span><span class="p">)</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attendence</span><span class="o">.</span><span class="n">new_attendence</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_dateedit</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_rows</span><span class="p">(</span><span class="o">*</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">clearContents</span><span class="p">()</span>
            <span class="n">table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Error!!&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
</div>
<div class="viewcode-block" id="Attendence.add_rows"><a class="viewcode-back" href="../employee.html#employee.Attendence.add_rows">[docs]</a>    <span class="k">def</span> <span class="nf">add_rows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param data: the data passed from the load_data_function</span>
<span class="sd">        :return:adds new row to the table</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span>  <span class="c"># should be 0 if we had the data from db and auto increment the count in loop</span>
        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">clearContents</span><span class="p">()</span>
            <span class="n">table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
                <span class="n">chk</span> <span class="o">=</span> <span class="n">QCheckBox</span><span class="p">()</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">chk</span><span class="p">)</span>
                <span class="n">employee</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;employee&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">employee</span><span class="p">)</span>
                <span class="n">is_holiday</span> <span class="o">=</span> <span class="n">QCheckBox</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;is_holiday&#39;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;is_holiday&#39;</span><span class="p">]:</span>
                        <span class="n">is_holiday</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">is_holiday</span><span class="p">)</span>
                <span class="n">leave_applied</span> <span class="o">=</span> <span class="n">QCheckBox</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;leave_applied&#39;</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;leave_applied&#39;</span><span class="p">]:</span>
                        <span class="n">leave_applied</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">leave_applied</span><span class="p">)</span>
                <span class="n">leave_reason</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;leave_reason&#39;</span><span class="p">):</span>
                    <span class="n">leave_reason</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;leave_reason&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">leave_reason</span><span class="p">)</span>
                <span class="n">leave_type</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
                <span class="n">leave_type</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">leave_types</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
                <span class="n">index</span> <span class="o">=</span> <span class="n">leave_type</span><span class="o">.</span><span class="n">findText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">leave_types</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;leave_type&#39;</span><span class="p">]])</span>
                <span class="n">leave_type</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">leave_type</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setStretchLastSection</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Attendence.save_the_data"><a class="viewcode-back" href="../employee.html#employee.Attendence.save_the_data">[docs]</a>    <span class="k">def</span> <span class="nf">save_the_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return:none</span>
<span class="sd">        saves the data to the db</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;Attendence save attandence initiated&#39;</span><span class="p">)</span>
        <span class="n">date_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_dateedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_data</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attendence</span><span class="o">.</span><span class="n">save_attendence</span><span class="p">(</span><span class="n">day</span><span class="o">=</span><span class="n">date_string</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">status</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Success!!&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">status</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                    <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Failure!!&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">status</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                    <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">True</span>
</div>
<div class="viewcode-block" id="Attendence.get_data"><a class="viewcode-back" href="../employee.html#employee.Attendence.get_data">[docs]</a>    <span class="k">def</span> <span class="nf">get_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: fetches all the data for printing</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">attendencetab_table</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()</span>
        <span class="n">dataobj</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rows</span><span class="p">):</span>
            <span class="n">dictionary</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">checkbox</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">cellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">checkbox</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="n">employee</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;employee&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">employee</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
                <span class="n">is_holiday</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">cellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
                <span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;is_holiday&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="n">is_holiday</span><span class="o">.</span><span class="n">isChecked</span><span class="p">()</span> <span class="k">else</span> <span class="bp">False</span>
                <span class="n">leave_applied</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">cellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
                <span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;leave_applied&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="n">leave_applied</span><span class="o">.</span><span class="n">isChecked</span><span class="p">()</span> <span class="k">else</span> <span class="bp">False</span>
                <span class="n">leave_reason</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">cellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="k">if</span> <span class="n">table</span><span class="o">.</span><span class="n">cellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">table</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
                <span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;leave_reason&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">leave_reason</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;is_holiday&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">False</span> <span class="ow">and</span> <span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;leave_applied&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">False</span><span class="p">)</span> <span class="ow">and</span> \
                                <span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;leave_reason&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;Unassigned&#39;</span><span class="p">:</span>
                    <span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;leave_reason&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;Present&#39;</span>
                <span class="k">elif</span> <span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;is_holiday&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span> <span class="ow">and</span> <span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;leave_reason&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;Unassigned&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">show_error</span><span class="p">(</span><span class="s">&#39;Remark&#39;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="bp">False</span>
                <span class="n">leave_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">change_type</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">cellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
                <span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;leave_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">leave_type</span>
                <span class="k">if</span> <span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;leave_applied&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span> <span class="ow">and</span> <span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;leave_reason&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;Unassigned&#39;</span><span class="p">:</span>
                    <span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;leave_reason&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">cellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
                <span class="n">dataobj</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dictionary</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">dataobj</span>
</div>
<div class="viewcode-block" id="Attendence.show_error"><a class="viewcode-back" href="../employee.html#employee.Attendence.show_error">[docs]</a>    <span class="k">def</span> <span class="nf">show_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: pops up an error</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Fail!!!&#39;</span><span class="p">,</span> <span class="s">&quot;Please Enter </span><span class="si">%s</span><span class="s"> properly&quot;</span> <span class="o">%</span> <span class="n">text</span><span class="p">,</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Attendence.change_type"><a class="viewcode-back" href="../employee.html#employee.Attendence.change_type">[docs]</a>    <span class="k">def</span> <span class="nf">change_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">leave_types</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">text</span> <span class="o">==</span> <span class="n">j</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">i</span>
                <span class="k">return</span> <span class="n">value</span>
</div>
<div class="viewcode-block" id="Attendence.load_rows"><a class="viewcode-back" href="../employee.html#employee.Attendence.load_rows">[docs]</a>    <span class="k">def</span> <span class="nf">load_rows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">pass</span>

</div></div>
<div class="viewcode-block" id="PayRoll"><a class="viewcode-back" href="../employee.html#employee.PayRoll">[docs]</a><span class="k">class</span> <span class="nc">PayRoll</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">logger</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c">###</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;Inside PayRoll&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payroll_tab_3</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payroll_tab_3</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;payroll_tab_3&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_14</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">payroll_tab_3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_14</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;gridLayout_14&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_17</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_17</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;horizontalLayout_17&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label_7</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">payroll_tab_3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label_7</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;label_7&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_17</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label_7</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_type_combobox</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">payroll_tab_3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_type_combobox</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;payrolltab_type_combobox&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_type_combobox</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_type_combobox</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_type_combobox</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_17</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_type_combobox</span><span class="p">)</span>
        <span class="n">spacerItem19</span> <span class="o">=</span> <span class="n">QSpacerItem</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Minimum</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_17</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">spacerItem19</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_dateedit</span> <span class="o">=</span> <span class="n">QDateEdit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">payroll_tab_3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_dateedit</span><span class="o">.</span><span class="n">setWrapping</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_dateedit</span><span class="o">.</span><span class="n">setCalendarPopup</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_dateedit</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;payrolltab_dateedit&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_17</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_dateedit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_search_button</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">payroll_tab_3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_search_button</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;payrolltab_search_button&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_17</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_search_button</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_14</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_17</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span> <span class="o">=</span> <span class="n">QTableWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">payroll_tab_3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;payrolltab_table&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">setColumnCount</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setStretchLastSection</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">verticalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">verticalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setCascadingSectionResizes</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">verticalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setStretchLastSection</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_14</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_18</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_18</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;horizontalLayout_18&quot;</span><span class="p">)</span>
        <span class="n">spacerItem20</span> <span class="o">=</span> <span class="n">QSpacerItem</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Minimum</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_18</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">spacerItem20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_save_button</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">payroll_tab_3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_save_button</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;payrolltab_save_button&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_18</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_save_button</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_14</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontalLayout_18</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="c">##retranslate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label_7</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Select Type:&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_type_combobox</span><span class="o">.</span><span class="n">setItemText</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Monthly&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
                                                                            <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_type_combobox</span><span class="o">.</span><span class="n">setItemText</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Weekly&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
                                                                            <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_type_combobox</span><span class="o">.</span><span class="n">setItemText</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Daily&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
                                                                            <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_dateedit</span><span class="o">.</span><span class="n">setDisplayFormat</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;MMMM-yyyy&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_search_button</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Search&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Select&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Id&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Employee&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Total Days&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Total Leaves&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Net Salary&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_save_button</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Save and Print&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="c">###slots and signals &amp;&amp; other stuffs</span>
        <span class="c"># self.mainwindow = Ui_MainWindow  # just for the ease of finding the attributes in pycharm</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttongroup</span> <span class="o">=</span> <span class="n">QButtonGroup</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buttongroup</span><span class="o">.</span><span class="n">setExclusive</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="c"># self.payrolltab_dateedit.dateChanged.connect(self.load_employee_payroll)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_save_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_and_print</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_search_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">load_employee_payroll</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">setEditTriggers</span><span class="p">(</span><span class="n">QAbstractItemView</span><span class="o">.</span><span class="n">NoEditTriggers</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">sectionClicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">select_all_rows</span><span class="p">)</span>
        <span class="c"># date = self.payrolltab_dateedit.date()</span>
        <span class="c"># self.load_employee_payroll(date)</span>
        <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;%B-%Y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_dateedit</span><span class="o">.</span><span class="n">setDate</span><span class="p">(</span><span class="n">QDate</span><span class="o">.</span><span class="n">fromString</span><span class="p">(</span><span class="n">today</span><span class="p">,</span> <span class="s">&quot;MMMM-yyyy&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payroll_tab_3</span><span class="o">.</span><span class="n">setFocusPolicy</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">StrongFocus</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payroll_tab_3</span><span class="o">.</span><span class="n">focusInEvent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_rows</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">period</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;Monthly&#39;</span><span class="p">:</span> <span class="s">&#39;monthly&#39;</span><span class="p">,</span> <span class="s">&#39;Weekly&#39;</span><span class="p">:</span> <span class="s">&#39;weekly&#39;</span><span class="p">,</span> <span class="s">&#39;Daily&#39;</span><span class="p">:</span> <span class="s">&#39;daily&#39;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">payroll</span> <span class="o">=</span> <span class="n">PayrollManagement</span><span class="p">()</span>

<div class="viewcode-block" id="PayRoll.select_all_rows"><a class="viewcode-back" href="../employee.html#employee.PayRoll.select_all_rows">[docs]</a>    <span class="k">def</span> <span class="nf">select_all_rows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        selects all rows in the 0th column</span>
<span class="sd">        :param item: column number</span>
<span class="sd">        :return:none</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span>
        <span class="k">if</span> <span class="n">item</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>
                <span class="n">chekbox</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">cellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">chekbox</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                    <span class="n">chekbox</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">chekbox</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Unchecked</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PayRoll.load_employee_payroll"><a class="viewcode-back" href="../employee.html#employee.PayRoll.load_employee_payroll">[docs]</a>    <span class="k">def</span> <span class="nf">load_employee_payroll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param date:passed by datechange event of dateEdit widget provides only month and year no &#39;day&#39;</span>
<span class="sd">        :return:loads the table with the payroll of employees</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span>
        <span class="n">date_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_dateedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date_string</span><span class="p">,</span> <span class="s">&#39;%B-%Y&#39;</span><span class="p">)</span>
        <span class="n">pd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_type_combobox</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">period</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">period</span><span class="p">[</span><span class="n">pd</span><span class="p">]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">payroll</span><span class="o">.</span><span class="n">create_payroll</span><span class="p">(</span><span class="n">period</span><span class="o">=</span><span class="n">period</span><span class="p">,</span> <span class="n">to_date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_rows</span><span class="p">(</span><span class="o">*</span><span class="n">data</span><span class="p">)</span>  <span class="c"># should pass this with a list of values with * prefix</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">clearContents</span><span class="p">()</span>
            <span class="n">table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PayRoll.add_rows"><a class="viewcode-back" href="../employee.html#employee.PayRoll.add_rows">[docs]</a>    <span class="k">def</span> <span class="nf">add_rows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span>

        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">clearContents</span><span class="p">()</span>
            <span class="n">table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
                <span class="n">chk</span> <span class="o">=</span> <span class="n">QCheckBox</span><span class="p">()</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">chk</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;employee_id&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;employee&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;total_days&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;total_leaves&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;net_salary&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">/</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.7</span><span class="p">)</span> <span class="o">/</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">)</span> <span class="o">/</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">)</span> <span class="o">/</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setStretchLastSection</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="PayRoll.save_and_print"><a class="viewcode-back" href="../employee.html#employee.PayRoll.save_and_print">[docs]</a>    <span class="k">def</span> <span class="nf">save_and_print</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return:pops up a payslip of the selected user</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;PayRoll save and print initiated&#39;</span><span class="p">)</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_table</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
            <span class="n">chk</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">cellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">chk</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="n">dictionary</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">emp_id</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
                <span class="n">dictionary</span><span class="p">[</span><span class="s">&#39;employee_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">emp_id</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dictionary</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="n">date_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_dateedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
            <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date_string</span><span class="p">,</span> <span class="s">&#39;%B-%Y&#39;</span><span class="p">)</span>
            <span class="n">pd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">payrolltab_type_combobox</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
            <span class="n">period</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">period</span><span class="p">[</span><span class="n">pd</span><span class="p">]</span>
            <span class="n">printer_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">payroll</span><span class="o">.</span><span class="n">save_payroll</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="n">period</span><span class="p">,</span> <span class="n">to_date</span><span class="o">=</span><span class="n">date</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">printer_data</span><span class="p">:</span>
                <span class="n">dialog</span> <span class="o">=</span> <span class="n">QPrintDialog</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">dialog</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span> <span class="o">==</span> <span class="n">QDialog</span><span class="o">.</span><span class="n">Accepted</span><span class="p">:</span>
                    <span class="n">p</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="n">printer</span><span class="p">()</span>
                    <span class="n">printing</span> <span class="o">=</span> <span class="n">PrintNow</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">printerName</span><span class="p">(),</span> <span class="n">printer_data</span><span class="p">,</span> <span class="s">&#39;payslip&#39;</span><span class="p">)</span>
                    <span class="n">printing</span><span class="o">.</span><span class="n">start_print</span><span class="p">()</span>

</div>
<div class="viewcode-block" id="PayRoll.load_rows"><a class="viewcode-back" href="../employee.html#employee.PayRoll.load_rows">[docs]</a>    <span class="k">def</span> <span class="nf">load_rows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return:if no rows then adds new rows</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_rows</span><span class="p">()</span>

</div></div>
<div class="viewcode-block" id="ShiftAddPopup"><a class="viewcode-back" href="../employee.html#employee.ShiftAddPopup">[docs]</a><span class="k">class</span> <span class="nc">ShiftAddPopup</span><span class="p">(</span><span class="n">QDialog</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">logger</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">QDialog</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;Inside ShiftAddPopup&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span> <span class="o">=</span> <span class="n">Ui_shift_popup</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">slot</span> <span class="o">=</span> <span class="n">slot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_name_linedit</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_capital</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_name_linedit</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_save_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_shift</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_delete_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delete_shift</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shift</span> <span class="o">=</span> <span class="n">ShiftManagement</span><span class="p">(</span><span class="n">slot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">slot</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">slot</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">load_slot</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_name_linedit</span><span class="o">.</span><span class="n">setPlaceholderText</span><span class="p">(</span><span class="s">&#39;Not Assigned&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="ShiftAddPopup.auto_capital"><a class="viewcode-back" href="../employee.html#employee.ShiftAddPopup.auto_capital">[docs]</a>    <span class="k">def</span> <span class="nf">auto_capital</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">linedit</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param linedit: the linedit object to be modified</span>
<span class="sd">        :return: none</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">edit</span> <span class="o">=</span> <span class="n">linedit</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">edit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">edit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">title</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="ShiftAddPopup.load_slot"><a class="viewcode-back" href="../employee.html#employee.ShiftAddPopup.load_slot">[docs]</a>    <span class="k">def</span> <span class="nf">load_slot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shift</span><span class="o">.</span><span class="n">load_shift</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_name_linedit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;slot&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_intime_timeedit</span><span class="o">.</span><span class="n">setTime</span><span class="p">(</span><span class="n">QTime</span><span class="o">.</span><span class="n">fromString</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;in_time&#39;</span><span class="p">],</span> <span class="s">&#39;hh:mm AP&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_outtime_timeedit</span><span class="o">.</span><span class="n">setTime</span><span class="p">(</span><span class="n">QTime</span><span class="o">.</span><span class="n">fromString</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;out_time&#39;</span><span class="p">],</span> <span class="s">&#39;hh:mm AP&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_mon_checkbox</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;monday&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_tue_checkbox</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;tuesday&#39;</span><span class="p">]</span>  <span class="k">else</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_wed_checkbox</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;wednesday&#39;</span><span class="p">]</span><span class="k">else</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_thu_checkbox</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;thursday&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_fri_checkbox</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;friday&#39;</span><span class="p">]</span>   <span class="k">else</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_sat_checkbox</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;saturday&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_sun_checkbox</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;sunday&#39;</span><span class="p">]</span>   <span class="k">else</span> <span class="bp">None</span>
</div>
<div class="viewcode-block" id="ShiftAddPopup.save_shift"><a class="viewcode-back" href="../employee.html#employee.ShiftAddPopup.save_shift">[docs]</a>    <span class="k">def</span> <span class="nf">save_shift</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;ShiftAddPopup save shift initiated&#39;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;slot&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_name_linedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;in_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_intime_timeedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;out_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_outtime_timeedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;monday&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_mon_checkbox</span><span class="o">.</span><span class="n">isChecked</span><span class="p">()</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;tuesday&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_tue_checkbox</span><span class="o">.</span><span class="n">isChecked</span><span class="p">()</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;wednesday&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_wed_checkbox</span><span class="o">.</span><span class="n">isChecked</span><span class="p">()</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;thursday&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_thu_checkbox</span><span class="o">.</span><span class="n">isChecked</span><span class="p">()</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;friday&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_fri_checkbox</span><span class="o">.</span><span class="n">isChecked</span><span class="p">()</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;saturday&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_sat_checkbox</span><span class="o">.</span><span class="n">isChecked</span><span class="p">()</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;sunday&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">shift_sun_checkbox</span><span class="o">.</span><span class="n">isChecked</span><span class="p">()</span> <span class="k">else</span> <span class="bp">False</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;slot&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;&#39;</span><span class="p">:</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Error&#39;</span><span class="p">,</span> <span class="s">&#39;Invalid Shift Name&#39;</span><span class="p">,</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shift</span><span class="o">.</span><span class="n">save_shift</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Fail!&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">!!&#39;</span> <span class="o">%</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">get_shift_details</span><span class="p">()</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Success!!&#39;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">!!&quot;</span> <span class="o">%</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                                                      <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="ShiftAddPopup.delete_shift"><a class="viewcode-back" href="../employee.html#employee.ShiftAddPopup.delete_shift">[docs]</a>    <span class="k">def</span> <span class="nf">delete_shift</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;ShiftAddPopup delete initiated&#39;</span><span class="p">)</span>
        <span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shift</span><span class="o">.</span><span class="n">delete_shift</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Fail!&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">!!&#39;</span> <span class="o">%</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">get_shift_details</span><span class="p">()</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Success!!&#39;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">!!&quot;</span> <span class="o">%</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                                                      <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

</div></div>
<div class="viewcode-block" id="Shift"><a class="viewcode-back" href="../employee.html#employee.Shift">[docs]</a><span class="k">class</span> <span class="nc">Shift</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">logger</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c">######</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;Inside Shift&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shift_tab_4</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>  <span class="c">#####taken v</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shift_tab_4</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;shift_tab_4&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_16</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shift_tab_4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_16</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;gridLayout_16&quot;</span><span class="p">)</span>
        <span class="n">spacerItem16</span> <span class="o">=</span> <span class="n">QSpacerItem</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Minimum</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_16</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">spacerItem16</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_add_button</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shift_tab_4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_add_button</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;shifttab_add_button&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_16</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shifttab_add_button</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span> <span class="o">=</span> <span class="n">QTableWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shift_tab_4</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;shifttab_table&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">setColumnCount</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setCascadingSectionResizes</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setStretchLastSection</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">verticalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setStretchLastSection</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_16</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="c">###retranslates</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_add_button</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Add Shift&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Slot&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;In Time&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Out Time&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;MON&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;TUE&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;WED&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;THU&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;FRI&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;SAT&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;SUN&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="c">####signals and slots &amp;&amp; other stuffs</span>
        <span class="c"># self.mainwindow = Ui_MainWindow  # just for the ease of finding the attributes in pycharm</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shift</span> <span class="o">=</span> <span class="n">ShiftList</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shift_tab_4</span><span class="o">.</span><span class="n">setFocusPolicy</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">StrongFocus</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shift_tab_4</span><span class="o">.</span><span class="n">focusInEvent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_rows</span>
        <span class="c"># self.get_shift_details()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_add_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">popup_shift_form</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">setEditTriggers</span><span class="p">(</span><span class="n">QAbstractItemView</span><span class="o">.</span><span class="n">NoEditTriggers</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">itemDoubleClicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">popup_edit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_shift_details</span><span class="p">()</span>

<div class="viewcode-block" id="Shift.popup_edit"><a class="viewcode-back" href="../employee.html#employee.Shift.popup_edit">[docs]</a>    <span class="k">def</span> <span class="nf">popup_edit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Pops up the menu to be edited</span>
<span class="sd">        :param item: item clicked</span>
<span class="sd">        :return:none</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span>
        <span class="n">model_index</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">indexFromItem</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">model_index</span><span class="o">.</span><span class="n">row</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">popup_shift_form</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="Shift.get_shift_details"><a class="viewcode-back" href="../employee.html#employee.Shift.get_shift_details">[docs]</a>    <span class="k">def</span> <span class="nf">get_shift_details</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        populates the table with the shift details</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c"># should query the db for data</span>
        <span class="c"># for each row in the db call the add_new_row(*args) function</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shift</span><span class="o">.</span><span class="n">load_shifts</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">clearContents</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_new_row</span><span class="p">(</span><span class="o">*</span><span class="n">data</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Shift.add_new_row"><a class="viewcode-back" href="../employee.html#employee.Shift.add_new_row">[docs]</a>    <span class="k">def</span> <span class="nf">add_new_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shifttab_table</span>
        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">clearContents</span><span class="p">()</span>
            <span class="n">table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;slot&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;in_time&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;out_time&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;monday&#39;</span><span class="p">]:</span>
                    <span class="n">check</span> <span class="o">=</span> <span class="n">QCheckBox</span><span class="p">()</span>
                    <span class="n">check</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span>
                    <span class="n">check</span><span class="o">.</span><span class="n">setDisabled</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">check</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;tuesday&#39;</span><span class="p">]:</span>
                    <span class="n">check</span> <span class="o">=</span> <span class="n">QCheckBox</span><span class="p">()</span>
                    <span class="n">check</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span>
                    <span class="n">check</span><span class="o">.</span><span class="n">setDisabled</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">check</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;wednesday&#39;</span><span class="p">]:</span>
                    <span class="n">check</span> <span class="o">=</span> <span class="n">QCheckBox</span><span class="p">()</span>
                    <span class="n">check</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span>
                    <span class="n">check</span><span class="o">.</span><span class="n">setDisabled</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">check</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;thursday&#39;</span><span class="p">]:</span>
                    <span class="n">check</span> <span class="o">=</span> <span class="n">QCheckBox</span><span class="p">()</span>
                    <span class="n">check</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span>
                    <span class="n">check</span><span class="o">.</span><span class="n">setDisabled</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">check</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;friday&#39;</span><span class="p">]:</span>
                    <span class="n">check</span> <span class="o">=</span> <span class="n">QCheckBox</span><span class="p">()</span>
                    <span class="n">check</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span>
                    <span class="n">check</span><span class="o">.</span><span class="n">setDisabled</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">check</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;saturday&#39;</span><span class="p">]:</span>
                    <span class="n">check</span> <span class="o">=</span> <span class="n">QCheckBox</span><span class="p">()</span>
                    <span class="n">check</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span>
                    <span class="n">check</span><span class="o">.</span><span class="n">setDisabled</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">check</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;sunday&#39;</span><span class="p">]:</span>
                    <span class="n">check</span> <span class="o">=</span> <span class="n">QCheckBox</span><span class="p">()</span>
                    <span class="n">check</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span>
                    <span class="n">check</span><span class="o">.</span><span class="n">setDisabled</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
                    <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="n">check</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="p">((</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setStretchLastSection</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Shift.popup_shift_form"><a class="viewcode-back" href="../employee.html#employee.Shift.popup_shift_form">[docs]</a>    <span class="k">def</span> <span class="nf">popup_shift_form</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        who=the shift number of the shift to be viewed</span>
<span class="sd">        if no who parameter provided then an empty form pops up...</span>
<span class="sd">        shows a form to edit the shift details</span>
<span class="sd">        after success adds a new row to te table</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">print</span> <span class="s">&quot;form&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">popup</span> <span class="o">=</span> <span class="n">ShiftAddPopup</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">popup</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">popup</span> <span class="o">=</span> <span class="n">ShiftAddPopup</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">slot</span><span class="o">=</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">popup</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="Shift.load_rows"><a class="viewcode-back" href="../employee.html#employee.Shift.load_rows">[docs]</a>    <span class="k">def</span> <span class="nf">load_rows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: loads the rows for the table.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_new_row</span><span class="p">()</span>

</div></div>
<div class="viewcode-block" id="SalarySettingsPopup"><a class="viewcode-back" href="../employee.html#employee.SalarySettingsPopup">[docs]</a><span class="k">class</span> <span class="nc">SalarySettingsPopup</span><span class="p">(</span><span class="n">QDialog</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">logger</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">designation</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;Inside SalarySettingPopup&#39;</span><span class="p">)</span>
        <span class="n">QDialog</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span> <span class="o">=</span> <span class="n">Ui_salary_settings</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">designation</span> <span class="o">=</span> <span class="n">designation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_save_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_settings</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_delete_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delete_settings</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_newdesignation_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pop_new_designation</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">management</span> <span class="o">=</span> <span class="n">EmployeeManagement</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salary_setting</span> <span class="o">=</span> <span class="n">SalarySettingManagement</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">designation</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_designation_linedit</span><span class="o">.</span><span class="n">setPlaceholderText</span><span class="p">(</span><span class="s">&#39;Not Assigned&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_designation_linedit</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">auto_capital</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_designation_linedit</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">designation</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">load_settings</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_newdesignation_button</span><span class="o">.</span><span class="n">setVisible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">pass</span>

<div class="viewcode-block" id="SalarySettingsPopup.pop_new_designation"><a class="viewcode-back" href="../employee.html#employee.SalarySettingsPopup.pop_new_designation">[docs]</a>    <span class="k">def</span> <span class="nf">pop_new_designation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">designation</span> <span class="o">=</span> <span class="n">NewDesignation</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">emp_management_obj</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">management</span><span class="p">)</span>
        <span class="n">designation</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>

</div>
<div class="viewcode-block" id="SalarySettingsPopup.auto_capital"><a class="viewcode-back" href="../employee.html#employee.SalarySettingsPopup.auto_capital">[docs]</a>    <span class="k">def</span> <span class="nf">auto_capital</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">linedit</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :param linedit: the linedit object to be modified</span>
<span class="sd">        :return: none</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">edit</span> <span class="o">=</span> <span class="n">linedit</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">edit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">edit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">title</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="SalarySettingsPopup.load_settings"><a class="viewcode-back" href="../employee.html#employee.SalarySettingsPopup.load_settings">[docs]</a>    <span class="k">def</span> <span class="nf">load_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">salary_setting</span><span class="o">.</span><span class="n">load_setting</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_designation_linedit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;designation&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_da_linedit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;da&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_hra_linedit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;hra&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_pf_linedit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;pf&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_esi_linedit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;esi&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_proftax_linedit</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;proftax&#39;</span><span class="p">])</span>

</div>
<div class="viewcode-block" id="SalarySettingsPopup.save_settings"><a class="viewcode-back" href="../employee.html#employee.SalarySettingsPopup.save_settings">[docs]</a>    <span class="k">def</span> <span class="nf">save_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;SalarySettingPopup save initiated&#39;</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;designation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_designation_linedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;da&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_da_linedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;hra&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_hra_linedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;pf&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_pf_linedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;esi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_esi_linedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;proftax&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">salarysettings_proftax_linedit</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">j</span> <span class="o">==</span> <span class="s">&#39;&#39;</span><span class="p">:</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Error&#39;</span><span class="p">,</span> <span class="s">&#39;Invalid </span><span class="si">%s</span><span class="s"> value&#39;</span> <span class="o">%</span> <span class="n">i</span><span class="o">.</span><span class="n">title</span><span class="p">(),</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">salary_setting</span><span class="o">.</span><span class="n">save_setting</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Fail!&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">!!&#39;</span> <span class="o">%</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">get_salary_details</span><span class="p">()</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Success!!&#39;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">!!&quot;</span> <span class="o">%</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="SalarySettingsPopup.delete_settings"><a class="viewcode-back" href="../employee.html#employee.SalarySettingsPopup.delete_settings">[docs]</a>    <span class="k">def</span> <span class="nf">delete_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;SalarySettingPopup delete initiated&#39;</span><span class="p">)</span>
        <span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">salary_setting</span><span class="o">.</span><span class="n">delete_setting</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Fail!&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">!!&#39;</span> <span class="o">%</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">get_salary_details</span><span class="p">()</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="n">QMessageBox</span><span class="p">(),</span> <span class="s">&#39;Success!!&#39;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">!!&quot;</span> <span class="o">%</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

</div></div>
<div class="viewcode-block" id="SalarySettings"><a class="viewcode-back" href="../employee.html#employee.SalarySettings">[docs]</a><span class="k">class</span> <span class="nc">SalarySettings</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">logger</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c">######</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&#39;Inside SalarySettings&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salary_tab_5</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>  <span class="c">#####taken v</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salary_tab_5</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;salary_tab_5&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_16</span> <span class="o">=</span> <span class="n">QGridLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">salary_tab_5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_16</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;gridLayout_16&quot;</span><span class="p">)</span>
        <span class="n">spacerItem16</span> <span class="o">=</span> <span class="n">QSpacerItem</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Expanding</span><span class="p">,</span> <span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Minimum</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_16</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">spacerItem16</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_add_button</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">salary_tab_5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_add_button</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;salarysetting_add_button&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_16</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_add_button</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span> <span class="o">=</span> <span class="n">QTableWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">salary_tab_5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s">&quot;salarysetting_table&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">setColumnCount</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">setHorizontalHeaderItem</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setCascadingSectionResizes</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setStretchLastSection</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">verticalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setStretchLastSection</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridLayout_16</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="c">###retranslates</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_add_button</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;New Salary Setting&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;Designation&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;DA&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;HRA&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;PF&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;ESI&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">horizontalHeaderItem</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;MainWindow&quot;</span><span class="p">,</span> <span class="s">&quot;PT&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="c">####signals and slots &amp;&amp; other stuffs</span>
        <span class="c"># self.mainwindow = Ui_MainWindow  # just for the ease of finding the attributes in pycharm</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salary_tab_5</span><span class="o">.</span><span class="n">setFocusPolicy</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">StrongFocus</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salary_tab_5</span><span class="o">.</span><span class="n">focusInEvent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_rows</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">setEditTriggers</span><span class="p">(</span><span class="n">QAbstractItemView</span><span class="o">.</span><span class="n">NoEditTriggers</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">itemDoubleClicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">popup_edit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_add_button</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">popup_salarysettings_form</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">salarysettinglist</span> <span class="o">=</span> <span class="n">SalarySettingList</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_salary_details</span><span class="p">()</span>


<div class="viewcode-block" id="SalarySettings.get_salary_details"><a class="viewcode-back" href="../employee.html#employee.SalarySettings.get_salary_details">[docs]</a>    <span class="k">def</span> <span class="nf">get_salary_details</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        populates the table with the employee details</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">salarysettinglist</span><span class="o">.</span><span class="n">load_salary_setting</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_new_row</span><span class="p">(</span><span class="o">*</span><span class="n">data</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">clearContents</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SalarySettings.add_new_row"><a class="viewcode-back" href="../employee.html#employee.SalarySettings.add_new_row">[docs]</a>    <span class="k">def</span> <span class="nf">add_new_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span>
        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
            <span class="n">table</span><span class="o">.</span><span class="n">clearContents</span><span class="p">()</span>
            <span class="n">table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;designation&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;da&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;hra&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;pf&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;esi&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
                <span class="n">item</span> <span class="o">=</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;proftax&#39;</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">table</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setStretchLastSection</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SalarySettings.popup_edit"><a class="viewcode-back" href="../employee.html#employee.SalarySettings.popup_edit">[docs]</a>    <span class="k">def</span> <span class="nf">popup_edit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Pops up the menu to be edited</span>
<span class="sd">        :param item: item clicked</span>
<span class="sd">        :return:none</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">salarysetting_table</span>
        <span class="n">model_index</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">indexFromItem</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">model_index</span><span class="o">.</span><span class="n">row</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">popup_salarysettings_form</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="SalarySettings.popup_salarysettings_form"><a class="viewcode-back" href="../employee.html#employee.SalarySettings.popup_salarysettings_form">[docs]</a>    <span class="k">def</span> <span class="nf">popup_salarysettings_form</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        who=the employee number of the employee to be viewed</span>
<span class="sd">        if no who parameter provided then an empty form pops up...</span>
<span class="sd">        shows a form to edit the employee details</span>
<span class="sd">        after success adds a new row to te table</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">popup</span> <span class="o">=</span> <span class="n">SalarySettingsPopup</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">popup</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">popup</span> <span class="o">=</span> <span class="n">SalarySettingsPopup</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">designation</span><span class="o">=</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">popup</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="SalarySettings.load_rows"><a class="viewcode-back" href="../employee.html#employee.SalarySettings.load_rows">[docs]</a>    <span class="k">def</span> <span class="nf">load_rows</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :return: loads the rows for the table.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_new_row</span><span class="p">()</span></div></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">new  documentation</a> &raquo;</li>
          <li><a href="index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Author.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>